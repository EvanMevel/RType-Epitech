name: Compilation check

on: [push]

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run build script windows
        working-directory: ${{env.GITHUB_WORKSPACE}}
        run: ./build.bat

  build-linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install CMake and ninja
        run:
            sudo apt-get update
            sudo apt-get install -y cmake ninja-build
      - name: Run build script linux
        working-directory: ${{env.GITHUB_WORKSPACE}}
        run: ./build.sh